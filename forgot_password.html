<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JOIN - Forgot Password</title>
  </head>

  <!--Bootstrap files-->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
    crossorigin="anonymous"
  />
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
    crossorigin="anonymous"
  ></script>
  <script src="js/storage.js"></script>
  <script src="js/passwort_reset.js"></script>
  <link rel="stylesheet" href="css/forgot_password.css" />
  <link rel="stylesheet" href="css/fonts.css" />
  <link rel="stylesheet" href="css/startscreen.css" />
  <link rel="stylesheet" href="css/sign_up.css" />
  <link rel="stylesheet" href="css/style.css" />
  <link
    rel="shortcut icon"
    href="assets/img/join_favicon.png"
    type="image/x-icon"
  />

  <body>
    <div class="logo-position">
      <img
        id="logo"
        src="assets/img/mobile-start-animation-black.svg"
        alt="Logo Black"
      />
    </div>

    <form
      class="return-password-container"
      id="signUpContainer"
      onsubmit="event.preventDefault();"
    >
      <div>
        <div class="back-arrow icon-button" onclick="backToLogin()">
          <img src="./assets/img/arrow_left.png" />
        </div>
      </div>

      <h2 class="h2-40">
        I forgot my <br />
        password
      </h2>

      <span class="return-text"
        >Don't worry ! We will send you an <br />
        email with the instructions to <br />reset your password.</span
      >

      <!-- Email input -->
      <div class="elementbox input-desktop input-se border-none bc-white">
        <div class="input-border">
          <div class="input-innerbox">
            <input
              class="input-field email-recover"
              type="email"
              id="passwordReset"
              placeholder="Email"
              required
            />
            <div class="input-imgbox">
              <img src="./assets/img/mail.svg" />
            </div>
          </div>
        </div>
      </div>

      <div
        class="login-buttons d-flex flex-column justify-content-between mt-4"
      >
        <button
          onclick="checkUserEmailAndShowPopup()"
          type="submit"
          id="sendMailBtn"
          class="btn btn-primary mb-4"
        >
          Send me the email
        </button>
      </div>
    </form>

    <button class="btn btn-primary send-btn">
      <img src="assets/img/SendCheck.svg" alt="Beschreibung des Bildes" />
      An E-mail has been sent to you
    </button>

    <div id="passwordPopup" class="custom-report" style="display: none">
      <div class="popup-password heigt-430px">
        <div
          class="button-hover"
          class="back-arrow icon-button password-arrow"
          onclick="backToLogin()"
        >
          <img src="./assets/img/arrow_left.png" />
          <span>Back</span>
        </div>

        <span class="passwort-reset-title"
          ><h4>Neues Passwort eingeben</h4></span
        >
        <div class="elementbox input-desktop input-se border-none">
          <div class="input-border" id="error-border">
            <div class="input-innerbox">
              <input
                class="input-field email-recover"
                type="password"
                id="newPassword"
                placeholder="Neues Passwort"
                required
                onfocus="showPasswordRequirements()"
              />
              <div
                class="input-imgbox"
                onclick="togglePasswordVisibility('newPassword', 'toggleImage1')"
              >
                <img id="toggleImage1" src="./assets/img/lock.svg" />
              </div>
            </div>
          </div>
        </div>

        <div class="elementbox input-desktop input-se border-none">
          <div class="input-border" id="error-border2">
            <div class="input-innerbox">
              <input
                class="input-field email-recover"
                type="password"
                id="confirmPassword"
                placeholder="Passwort bestätigen"
                required
              />
              <div
                class="input-imgbox"
                onclick="togglePasswordVisibility('confirmPassword', 'toggleImage2')"
              >
                <img id="toggleImage2" src="./assets/img/lock.svg" />
              </div>
            </div>
          </div>
        </div>
        <button class="close-button password-renew" onclick="updatePassword()">
          Passwort aktualisieren
        </button>
      </div>
      <div id="passwordInfoReset" style="display: none">
        - mindestens 8 Zeichen <br />- mindestens eine Zahl <br />- einen
        Großbuchstaben <br />- einen Kleinbuchstaben <br />- ein Sonderzeichen
      </div>
    </div>
    <div id="successPopup" class="success-popup">
      Passwort erfolgreich aktualisiert! Sie werden zur Startseite
      weitergeleitet.
    </div>
    <div id="emailNotFoundPopup" class="custom-popup" style="display: none">
      E-Mail wurde nicht gefunden.
      <button class="close-button" onclick="closeEmailNotFoundPopup()">
        Schließen
      </button>
    </div>
  </body>
</html>
